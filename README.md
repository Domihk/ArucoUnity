# ArUco Unity

OpenCV's [ArUco](http://docs.opencv.org/master/d9/d6a/group__aruco.html) Marker Detection module adapted for Unity 5.
The OpenCV's calibration modules [cablid3d](http://docs.opencv.org/master/d9/d0c/group__calib3d.html) and
[ccalib](http://docs.opencv.org/master/d3/ddc/group__ccalib.html) are also included.

This project has been developed as part of the master thesis of [Erwan Normand](https://ca.linkedin.com/in/normanderwan)
 and was supported by the [ÉTS - École de Technologie Supérieure](https://www.etsmtl.ca/).

## Usage

1. Retrieve the ArucoUnity package on the Unity Asset Store (available soon). Or you can build the library source code (see the Build section), then copy `<aruco_unity_source_directory>/src/aruco_unity_package/Assets` folder into your Unity project.
2. Use the prefabs or the examples scenes of the ArucoUnity package.

## Build

### Configuration

Use [CMake](https://cmake.org/) to configurate the ArUco Unity library. 

First, you will need to provide a build of OpenCV with the ArUco module as dependency. You can follow these
instructions: [https://github.com/opencv/opencv_contrib](https://github.com/opencv/opencv_contrib). Or you
can build the provided cmake project by running the following commands:

```bash
$ cd <opencv_build_directory>
$ cmake -DCMAKE_INSTALL_PREFIX=<opencv_install_dir> <aruco_unity_source_directory>/3rdparty/opencv_contrib/
$ cmake --build .
```

Then configure the ArUco Unity library by running the following commands:

```bash
$ cd <aruco_unity_build_directory>
$ cmake -DOpenCV_DIR=<opencv_install_dir> <aruco_unity_source_directory>
```

### Building

After configuration, open and compile the solution generated by cmake, or run the following commands:

```bash
$ cd <aruco_unity_build_directory>
$ cmake --build .
```

### Installation

After building, compile the `INSTALL` target on the solution generated by cmake, or run the following commands:

```bash
$ cd <aruco_unity_build_directory>
$ cmake --build . --target INSTALL
```

The library will be copied into the `<aruco_unity_source_directory>/bin` and `<aruco_unity_source_directory>/lib`
folders, and into the `<aruco_unity_source_directory>/src/aruco_unity_package/Assets/Plugins` folder.

## Tests

If you want to build and execute the tests, run the following commands:

```bash
$ cd <aruco_unity_build_directory>
$ cmake -DBUILD_TESTS=ON <aruco_unity_source_directory>
$ ctest
```

The Google Test dependency will be automatically built. All tests should pass.

## Documentation

The documentation of available online:

- The library: [https://enormand.github.io/aruco-unity/group__aruco__unity__lib.html](https://enormand.github.io/aruco-unity/group__aruco__unity__lib.html)
- The Unity package: [https://enormand.github.io/aruco-unity/group__aruco__unity__package.html](https://enormand.github.io/aruco-unity/group__aruco__unity__package.html)

## Licenses

See the [LICENSE](LICENSE) file for license rights and limitations (3-clause BSD license).

See the [3rdparty folder](3rdparty/) for licenses of the third-party dependencies. ArUco Unity makes use of the
following projects:

- [OpenCV](http://opencv.org/) and its [ArUco Marker Detection](https://github.com/opencv/opencv_contrib/tree/master/modules/aruco) extra module.
- [Google Test](https://github.com/google/googletest)
